import{r as m,R as P,j as e,P as ca,g as da,c as ia,s as U}from"./index-a2563983.js";import{F as la}from"./FiltroEmpresa-724027b5.js";import{F as ma,a as pa,b as ua,M as xa}from"./ModalDetalhesConta-1648dc6c.js";import{u as ga}from"./useApiClient-0bf86fc1.js";import{C as Ne,a as De,b as Ce,c as Se,d as Ae}from"./cards-fd94db0b.js";import"./tooltip-7f0eaba7.js";import{M as Fe}from"./Modal-8500ef4b.js";import{s as qe}from"./CaretUp.es-b369da07.js";import{m as $e}from"./CurrencyDollar.es-0edca053.js";import{s as fa}from"./Funnel.es-cd3339ac.js";import{p as z}from"./Spinner.es-3c850cda.js";import"./Info.es-1c589a57.js";import"./Button-3b4dd265.js";const Ra=()=>{const v=ga(),[N,L]=m.useState([]),[j,_]=m.useState(""),[b,E]=m.useState(""),[S,F]=m.useState(!1),[R,D]=m.useState(!1),[y,p]=m.useState(""),[i,n]=m.useState(new Set),[u,l]=m.useState([]),[$,G]=m.useState([]),[Z,M]=m.useState([]),[w,q]=m.useState([]),[ke,I]=m.useState([]),[V,Ee]=m.useState([]),[C,Le]=m.useState([]);m.useState(!1),m.useState(null);const[ne,Re]=m.useState({isOpen:!1,conta:null}),[Me,Pe]=m.useState(1),[K]=m.useState(30),[Q,ce]=m.useState([]),[de,ie]=m.useState(!1),[Ve,le]=m.useState(!1);m.useState(!1),m.useState({key:"dt_liq",direction:"desc"});const[Oe,me]=m.useState(!1),[Be,pe]=m.useState(!1),[ze,ue]=m.useState([]),[xe,ge]=m.useState(!1),[T,ya]=m.useState({key:"dt_liq",direction:"asc"}),Ie=r=>{G([...r])},Te=r=>{q([...r])},Ye=r=>{Ee([...r])};m.useState(!1);const[W,va]=m.useState("ANO");m.useEffect(()=>{const r=document.createElement("style");return r.textContent=`
      .contas-table {
        border-collapse: collapse;
        width: 100%;
      }
      
      .contas-table th,
      .contas-table td {
        padding: 3px 4px !important;
        border-right: 1px solid #f3f4f6;
        word-wrap: break-word;
        white-space: normal;
        font-size: 9px;
        line-height: 1.2;
      }
      
      .contas-table th:last-child,
      .contas-table td:last-child {
        border-right: none;
      }
      
      .contas-table tbody tr:hover {
        background-color: #f8fafc !important;
      }
      
      .contas-table tbody tr:nth-child(even) {
        background-color: #f8f9fa;
      }
      
      .contas-table tbody tr:nth-child(odd) {
        background-color: #ffffff;
      }
      
      .contas-table thead th:first-child {
        position: sticky;
        left: 0;
        z-index: 10;
        min-width: 50px !important;
        width: 50px !important;
        background: #000638 !important;
      }
      
      .contas-table tbody td:first-child {
        position: sticky;
        left: 0;
        z-index: 9;
        min-width: 50px !important;
        width: 50px !important;
      }
      
      .table-container {
        overflow-x: auto;
        position: relative;
        max-width: 100%;
      }
      
      .table-container table {
        position: relative;
      }
    `,document.head.appendChild(r),()=>{r&&r.parentNode&&r.parentNode.removeChild(r)}},[]);const He=()=>{Re({isOpen:!1,conta:null})};m.useEffect(()=>{n(new Set)},[N]),m.useEffect(()=>{n(new Set)},[W]);const Je=async(r=j,t=b)=>{if(!(!r||!t)){if(C.length===0){alert("Selecione pelo menos uma empresa para consultar!");return}F(!0),Pe(1);try{console.log("üîç Iniciando busca de contas a pagar..."),console.log("üìÖ Per√≠odo (Data Liquida√ß√£o):",{inicio:r,fim:t}),console.log("üè¢ Empresas selecionadas:",C);const a={dt_inicio:r,dt_fim:t},o=C.filter(x=>x.cd_empresa).map(x=>x.cd_empresa);o.length>0&&(a.cd_empresa=o),console.log("üìã Par√¢metros da requisi√ß√£o:",a),console.log("üè¢ C√≥digos das empresas:",o);const s=await v.financial.contasPagar(a);let c=[];if(s.success){const x=s.data,B=Array.isArray(x)?x:x&&Array.isArray(x.data)?x.data:[],A=Array.isArray(x)?{}:x||{};console.log("‚úÖ Dados obtidos com rota contas-pagar:",{total:B.length,amostra:B.slice(0,2),empresas:A.empresas,totais:A.totals,periodo:A.periodo,performance:A.performance,queryType:A.queryType}),A.totals&&console.log("üí∞ Totais do per√≠odo:",A.totals),A.performance&&console.log("‚ö° Performance da query:",A.performance),c=B}else{console.error("‚ùå Falha ao buscar dados de contas a pagar:",s.message),L([]),D(!1);return}console.log("üìä Resultado final:",{totalRegistros:c.length,empresas:o.length,primeirosRegistros:c.slice(0,3)});const[f,d,g]=await Promise.all([fe(c),Ue(c),Ge(c)]),h=new Map((f||[]).map(x=>[String(x.cd_fornecedor),x])),ee=new Map((d||[]).map(x=>[String(x.cd_ccusto),x])),ae=new Map((g||[]).map(x=>[String(x.cd_despesaitem),x]));console.log("üó∫Ô∏è Map sizes:",{fornecedores:h.size,centrosCusto:ee.size,despesas:ae.size,amostraFornecedor:Array.from(h.entries()).slice(0,2),amostraCentroCusto:Array.from(ee.entries()).slice(0,2),amostraDespesa:Array.from(ae.entries()).slice(0,2)});const se=c.map(x=>{const B=String(x.cd_fornecedor??""),A=String(x.cd_ccusto??""),na=String(x.cd_despesaitem??""),te=h.get(B),re=ee.get(A),oe=ae.get(na);return{...x,nm_fornecedor:(te==null?void 0:te.nm_fornecedor)||x.nm_fornecedor||"",ds_ccusto:(re==null?void 0:re.ds_ccusto)||x.ds_ccusto||"",ds_despesaitem:(oe==null?void 0:oe.ds_despesaitem)||x.ds_despesaitem||""}});console.log("üß™ Amostra mapeada:",se.slice(0,3).map(x=>({cd_fornecedor:x.cd_fornecedor,nm_fornecedor:x.nm_fornecedor,cd_ccusto:x.cd_ccusto,ds_ccusto:x.ds_ccusto,cd_despesaitem:x.cd_despesaitem,ds_despesaitem:x.ds_despesaitem}))),console.log("‚úÖ Dados mapeados com sucesso:",{total:se.length,fornecedores_encontrados:f.length,centros_custo_encontrados:d.length,despesas_encontradas:g.length}),L(se),D(!0)}catch(a){console.error("‚ùå Erro geral ao buscar dados:",a),L([]),D(!1)}finally{F(!1)}}},fe=async r=>{try{console.log("üîç Carregando dados de fornecedor...");const t=[...new Set(r.map(s=>s.cd_fornecedor).filter(Boolean))];if(console.log("üîç C√≥digos de fornecedor extra√≠dos:",{total:t.length,amostra:t.slice(0,5)}),t.length===0)return console.log("‚ö†Ô∏è Nenhum c√≥digo de fornecedor encontrado, retornando array vazio"),l([]),[];const a=await v.financial.fornecedor({cd_fornecedor:t});let o=[];if(a.success){const s=a.data;o=Array.isArray(s)?s:s&&Array.isArray(s.data)?s.data:[];const c=Array.isArray(s)?{}:s||{};return console.log("‚úÖ Dados de fornecedor carregados:",{total:o.length,amostra:o.slice(0,2),fornecedores_buscados:c.fornecedores_buscados,fornecedores_encontrados:c.fornecedores_encontrados}),l(o),o}else return console.warn("‚ö†Ô∏è Falha ao carregar dados de fornecedor:",a.message),l([]),[]}catch(t){return console.error("‚ùå Erro ao carregar dados de fornecedor:",t),l([]),[]}},Ue=async r=>{try{console.log("üîç Carregando dados de centro de custo...");const t=[...new Set(r.map(s=>s.cd_ccusto).filter(Boolean))];if(console.log("üîç C√≥digos de centro de custo extra√≠dos:",{total:t.length,amostra:t.slice(0,5)}),t.length===0)return console.log("‚ö†Ô∏è Nenhum c√≥digo de centro de custo encontrado, retornando array vazio"),M([]),[];const a=await v.financial.centrocusto({cd_ccusto:t});let o=[];if(a.success){const s=a.data;o=Array.isArray(s)?s:s&&Array.isArray(s.data)?s.data:[];const c=Array.isArray(s)?{}:s||{};return console.log("‚úÖ Dados de centro de custo carregados:",{total:o.length,amostra:o.slice(0,2),centros_custo_buscados:c.centros_custo_buscados,centros_custo_encontrados:c.centros_custo_encontrados}),M(o),o}else return console.warn("‚ö†Ô∏è Falha ao carregar dados de centro de custo:",a.message),M([]),[]}catch(t){return console.error("‚ùå Erro ao carregar dados de centro de custo:",t),M([]),[]}},Ge=async r=>{try{console.log("üîç Carregando dados de despesas...");const t=[...new Set(r.map(s=>s.cd_despesaitem).filter(Boolean))];if(console.log("üîç C√≥digos de despesa extra√≠dos:",{total:t.length,amostra:t.slice(0,5)}),t.length===0)return console.log("‚ö†Ô∏è Nenhum c√≥digo de despesa encontrado, retornando array vazio"),I([]),[];let a=await v.financial.despesa({cd_despesaitem:t});if(!(a!=null&&a.success)&&v.financial.despesas)try{a=await v.financial.despesas({cd_despesaitem:t})}catch{}let o=[];if(a.success){const s=a.data;o=Array.isArray(s)?s:s&&Array.isArray(s.data)?s.data:[];const c=Array.isArray(s)?{}:s||{};return console.log("‚úÖ Dados de despesas carregados:",{total:o.length,amostra:o.slice(0,2),despesas_buscadas:c.despesas_buscadas,despesas_encontradas:c.despesas_encontradas}),I(o),o}else return console.warn("‚ö†Ô∏è Falha ao carregar dados de despesas:",a.message),I([]),[]}catch(t){return console.error("‚ùå Erro ao carregar dados de despesas:",t),I([]),[]}},Y=r=>{if(r.dt_liq)return"Pago";if(r.dt_vencimento){const t=new Date;t.setHours(0,0,0,0);const a=new Date(r.dt_vencimento);return a.setHours(0,0,0,0),a<t?"Vencido":"A Vencer"}if(r.tp_situacao)switch(r.tp_situacao.toString()){case"1":case"P":return"Pago";case"2":case"V":return"Vencido";case"3":case"A":return"A Vencer";default:return"Pendente"}return"Pendente"};m.useEffect(()=>{const r=new Date,t=new Date(r.getFullYear(),r.getMonth(),1),a=new Date(r.getFullYear(),r.getMonth()+1,0);_(t.toISOString().split("T")[0]),E(a.toISOString().split("T")[0])},[]),m.useEffect(()=>{},[N]);const Ze=r=>{Le([...r])},Ke=r=>{r.preventDefault(),Je(),Qe(),We()},Qe=async(r=j,t=b)=>{if(!(!r||!t)){if(C.length===0){alert("Selecione pelo menos uma empresa para consultar!");return}try{ie(!0),console.log("üîç Iniciando busca de contas a pagar (emiss√£o)..."),console.log("üìÖ Per√≠odo (Data Emiss√£o):",{inicio:r,fim:t}),console.log("üè¢ Empresas selecionadas:",C);const a=C.map(async c=>{try{const f=await fetch(`https://apigestaocrosby-bw2v.onrender.com/api/financial/contas-pagar-emissao?dt_inicio=${r}&dt_fim=${t}&cd_empresa=${c.cd_empresa}`);if(!f.ok)return console.warn(`‚ö†Ô∏è Erro ao buscar empresa ${c.cd_empresa}: HTTP ${f.status}`),[];const d=await f.json();let g=[];return Array.isArray(d)?g=d:d&&typeof d=="object"&&(d.dados&&Array.isArray(d.dados)?g=d.dados:d.data&&Array.isArray(d.data)?g=d.data:d.data&&d.data.data&&Array.isArray(d.data.data)?g=d.data.data:d.result&&Array.isArray(d.result)?g=d.result:g=Object.values(d).filter(Array.isArray).flat()),g.filter(h=>h&&typeof h=="object")}catch(f){return console.warn(`‚ö†Ô∏è Erro ao buscar empresa ${c.cd_empresa}:`,f),[]}});let s=(await Promise.all(a)).flat();s=s.filter(c=>c.tp_situacao==="N"&&c.dt_liq);try{const c=await fe(s),f=new Map((c||[]).map(d=>[String(d.cd_fornecedor),d]));s=s.map(d=>{const g=String(d.cd_fornecedor),h=f.get(g);return{...d,nm_fornecedor:(h==null?void 0:h.nm_fornecedor)||d.nm_fornecedor||"N/A"}})}catch(c){console.warn("‚ö†Ô∏è N√£o foi poss√≠vel carregar nomes de fornecedor:",c)}console.log("üìä Sa√≠das carregadas:",{totalRegistros:s.length,empresas:C.length}),ce(s),le(!0)}catch(a){console.error("‚ùå Erro ao buscar contas-pagar-emissao:",a),ce([]),le(!1)}finally{ie(!1)}}},We=async(r=j,t=b)=>{if(!(!r||!t)){if(C.length===0){alert("Selecione pelo menos uma empresa para consultar!");return}try{ge(!0),console.log("üîç Iniciando busca de contas a receber (emiss√£o)..."),console.log("üìÖ Per√≠odo (Data Emiss√£o):",{inicio:r,fim:t}),console.log("üè¢ Empresas selecionadas:",C);const a=C.map(async c=>{try{const f=await fetch(`https://apigestaocrosby-bw2v.onrender.com/api/financial/contas-receberemiss?dt_inicio=${r}&dt_fim=${t}&cd_empresa=${c.cd_empresa}`);if(!f.ok)return console.warn(`‚ö†Ô∏è Erro ao buscar empresa ${c.cd_empresa}: HTTP ${f.status}`),[];const d=await f.json();let g=[];return Array.isArray(d)?g=d:d&&typeof d=="object"&&(d.dados&&Array.isArray(d.dados)?g=d.dados:d.data&&Array.isArray(d.data)?g=d.data:d.data&&d.data.data&&Array.isArray(d.data.data)?g=d.data.data:d.result&&Array.isArray(d.result)?g=d.result:g=Object.values(d).filter(Array.isArray).flat()),g.filter(h=>h&&typeof h=="object")}catch(f){return console.warn(`‚ö†Ô∏è Erro ao buscar empresa ${c.cd_empresa}:`,f),[]}});let s=(await Promise.all(a)).flat();s=s.filter(c=>c.tp_situacao==="1"&&c.dt_liq),console.log("üìä Contas a Receber carregadas:",{totalRegistros:s.length,empresas:C.length}),ue(s)}catch(a){console.error("‚ùå Erro ao buscar contas-receberemiss:",a),ue([])}finally{ge(!1)}}},Xe=(r,t)=>{let a=null;if(j&&b?a=new Date(j).getFullYear():a=new Date().getFullYear(),console.log("üîç Filtro Mensal:",{filtro:t,anoFiltro:a,dataInicio:j,dataFim:b,totalDados:r.length}),r.length>0){const o=[...new Set(r.map(c=>c.dt_liq?new Date(c.dt_liq).getFullYear():null).filter(c=>c!==null))];console.log("üìä Anos presentes nos dados:",o.sort());const s=r.filter(c=>c.dt_liq?new Date(c.dt_liq).getFullYear()===2025:!1);console.log("üîç Dados de 2025 encontrados:",s.length),s.length>0&&console.log("üìã Amostra de dados 2025:",s.slice(0,2))}return r.filter(o=>{const s=o.dt_liq;if(!s)return!1;if(t==="ANO")return!0;const c=new Date(s),f=c.getFullYear(),d=c.getMonth()+1,h={JAN:1,FEV:2,MAR:3,ABR:4,MAI:5,JUN:6,JUL:7,AGO:8,SET:9,OUT:10,NOV:11,DEZ:12}[t];return h?d===h&&f===a:!0})},ea=N.filter(r=>{if(r.tp_situacao!=="N")return!1;if($.length>0){const t=r.cd_fornecedor||"";if(!$.some(o=>o.cd_fornecedor===t))return!1}if(V.length>0){const t=r.cd_despesaitem||"";if(!V.some(o=>o.cd_despesaitem===t))return!1}if(y&&!(r.nr_duplicata||"").toString().toLowerCase().includes(y.toLowerCase()))return!1;if(w.length>0){const t=r.cd_ccusto||"";if(!w.some(o=>o.cd_ccusto===t))return!1}return!0}),aa=r=>!r||r.length===0?r:[...r].sort((t,a)=>{let o,s;switch(T.key){case"cd_empresa":o=t.item.cd_empresa||"",s=a.item.cd_empresa||"";break;case"cd_fornecedor":o=t.item.cd_fornecedor||"",s=a.item.cd_fornecedor||"";break;case"nm_fornecedor":o=t.item.nm_fornecedor||"",s=a.item.nm_fornecedor||"";break;case"ds_despesaitem":o=t.item.ds_despesaitem||"",s=a.item.ds_despesaitem||"";break;case"ds_ccusto":o=t.item.ds_ccusto||"",s=a.item.ds_ccusto||"";break;case"nr_duplicata":o=t.item.nr_duplicata||"",s=a.item.nr_duplicata||"";break;case"nr_portador":o=t.item.nr_portador||"",s=a.item.nr_portador||"";break;case"dt_emissao":o=t.item.dt_emissao?new Date(t.item.dt_emissao):new Date(0),s=a.item.dt_emissao?new Date(a.item.dt_emissao):new Date(0);break;case"dt_vencimento":o=t.item.dt_vencimento?new Date(t.item.dt_vencimento):new Date(0),s=a.item.dt_vencimento?new Date(a.item.dt_vencimento):new Date(0);break;case"dt_entrada":o=t.item.dt_entrada?new Date(t.item.dt_entrada):new Date(0),s=a.item.dt_entrada?new Date(a.item.dt_entrada):new Date(0);break;case"dt_liq":o=t.item.dt_liq?new Date(t.item.dt_liq):new Date(0),s=a.item.dt_liq?new Date(a.item.dt_liq):new Date(0);break;case"tp_situacao":o=t.item.tp_situacao||"",s=a.item.tp_situacao||"";break;case"tp_estagio":o=t.item.tp_estagio||"",s=a.item.tp_estagio||"";break;case"vl_duplicata":o=parseFloat(t.item.vl_duplicata)||0,s=parseFloat(a.item.vl_duplicata)||0;break;case"vl_juros":o=parseFloat(t.item.vl_juros)||0,s=parseFloat(a.item.vl_juros)||0;break;case"vl_acrescimo":o=parseFloat(t.item.vl_acrescimo)||0,s=parseFloat(a.item.vl_acrescimo)||0;break;case"vl_desconto":o=parseFloat(t.item.vl_desconto)||0,s=parseFloat(a.item.vl_desconto)||0;break;case"vl_pago":o=parseFloat(t.item.vl_pago)||0,s=parseFloat(a.item.vl_pago)||0;break;case"in_aceite":o=t.item.in_aceite||"",s=a.item.in_aceite||"";break;case"nr_parcela":o=parseInt(t.item.nr_parcela)||0,s=parseInt(a.item.nr_parcela)||0;break;default:o=t.item[T.key]||"",s=a.item[T.key]||""}return typeof o=="string"&&typeof s=="string"&&(o=o.toLowerCase(),s=s.toLowerCase()),T.direction==="asc"?o>s?1:o<s?-1:0:o<s?1:o>s?-1:0}),sa=r=>{const t=new Map;return r.forEach(a=>{const o=`${a.cd_fornecedor}|${a.nm_fornecedor}|${a.nr_duplicata}|${a.nr_parcela}|${a.cd_empresa}|${a.dt_emissao}|${a.dt_vencimento}|${a.dt_entrada}|${a.dt_liq}|${a.tp_situacao}|${a.vl_duplicata}|${a.vl_juros}|${a.vl_acrescimo}|${a.vl_desconto}|${a.vl_pago}`;t.has(o)||t.set(o,{item:a,observacoes:[],situacoes:[],datasEmissao:[],datasVencimento:[],datasEntrada:[],datasLiquidacao:[],quantidade:0});const s=t.get(o);s.quantidade+=1,a.ds_observacao&&!s.observacoes.includes(a.ds_observacao)&&s.observacoes.push(a.ds_observacao),a.tp_situacao&&!s.situacoes.includes(a.tp_situacao)&&s.situacoes.push(a.tp_situacao),a.dt_emissao&&!s.datasEmissao.includes(a.dt_emissao)&&s.datasEmissao.push(a.dt_emissao),a.dt_vencimento&&!s.datasVencimento.includes(a.dt_vencimento)&&s.datasVencimento.push(a.dt_vencimento),a.dt_entrada&&!s.datasEntrada.includes(a.dt_entrada)&&s.datasEntrada.push(a.dt_entrada),a.dt_liq&&!s.datasLiquidacao.includes(a.dt_liq)&&s.datasLiquidacao.push(a.dt_liq)}),Array.from(t.values()).map(a=>{let o=a.item.tp_situacao;a.situacoes.length>1&&(a.situacoes.includes("C")?o="C":a.situacoes.includes("N")&&(o="N"));const s=a.datasEmissao.length>0?a.datasEmissao.sort((g,h)=>new Date(h)-new Date(g))[0]:a.item.dt_emissao,c=a.datasVencimento.length>0?a.datasVencimento.sort((g,h)=>new Date(h)-new Date(g))[0]:a.item.dt_vencimento,f=a.datasEntrada.length>0?a.datasEntrada.sort((g,h)=>new Date(h)-new Date(g))[0]:a.item.dt_entrada,d=a.datasLiquidacao.length>0?a.datasLiquidacao.sort((g,h)=>new Date(h)-new Date(g))[0]:a.item.dt_liq;return{...a,item:{...a.item,tp_situacao:o,dt_emissao:s,dt_vencimento:c,dt_entrada:f,dt_liq:d}}})},H=Xe(ea,W);if(H.length>0){const r=H.filter(t=>t.dt_liq?new Date(t.dt_liq).getFullYear()===2025:!1);console.log("üîç Dados de 2025 ap√≥s filtro mensal:",r.length)}const he=sa(H),k=aa(he);console.log("üîç Debug Contas a Pagar:",{dadosOriginais:N.length,dadosFiltrados:N.length,dadosComFiltroMensal:H.length,dadosAgrupados:he.length,dadosOrdenados:k.length,filtrosAtivos:{duplicata:y,filtroMensal:W},amostraDados:N.slice(0,2)}),k.length,k.reduce((r,t)=>r+(parseFloat(t.item.vl_duplicata)||0),0),k.filter(r=>Y(r.item).toLowerCase().includes("vencido")).length,k.filter(r=>Y(r.item).toLowerCase().includes("vencer")).length;const O=new Date;new Date(O.getFullYear(),O.getMonth(),1);const ta=new Date(O.getFullYear(),O.getMonth()+1,0),_e=k.filter(r=>{if(!r.item.dt_vencimento)return!1;const t=new Date(r.item.dt_vencimento),a=Y(r.item);return t>=O&&t<=ta&&!a.toLowerCase().includes("pago")&&!a.toLowerCase().includes("vencido")});_e.length,_e.reduce((r,t)=>r+(parseFloat(t.item.vl_duplicata)||0),0);const ye=k.filter(r=>Y(r.item).toLowerCase().includes("pago"));ye.length,ye.reduce((r,t)=>r+(parseFloat(t.item.vl_pago)||0),0);const ve=r=>!r||r.length===0?[]:r.filter(t=>{if(!t)return!1;if($.length>0&&t.cd_fornecedor){const a=$.map(o=>String(o.cd_fornecedor||o.value||o)).filter(Boolean);if(a.length>0&&!a.includes(String(t.cd_fornecedor)))return!1}if(V.length>0&&t.cd_despesaitem){const a=V.map(o=>String(o.cd_despesaitem||o.value||o)).filter(Boolean);if(a.length>0&&!a.includes(String(t.cd_despesaitem)))return!1}if(w.length>0&&t.cd_ccusto){const a=w.map(o=>String(o.cd_ccusto||o.value||o)).filter(Boolean);if(a.length>0&&!a.includes(String(t.cd_ccusto)))return!1}return!(y&&!String(t.nr_duplicata||"").toLowerCase().includes(String(y).toLowerCase()))}),je=ve(Q||[]),J=ve(ze||[]),be=P.useMemo(()=>(a=>{const o=new Map;return a.forEach(s=>{const c=`${s.cd_fornecedor}|${s.nm_fornecedor}|${s.nr_duplicata}|${s.nr_parcela}|${s.cd_empresa}|${s.dt_emissao}|${s.dt_vencimento}|${s.dt_entrada}|${s.dt_liq}|${s.tp_situacao}|${s.tp_previsaoreal}|${s.vl_duplicata}|${s.vl_juros}|${s.vl_acrescimo}|${s.vl_desconto}|${s.vl_pago}`;o.has(c)||o.set(c,{item:s,observacoes:[],situacoes:[],datasEmissao:[],datasVencimento:[],datasEntrada:[],datasLiquidacao:[],rateios:[],quantidade:0});const f=o.get(c);f.quantidade+=1,s.tp_situacao&&!f.situacoes.includes(s.tp_situacao)&&f.situacoes.push(s.tp_situacao)}),Array.from(o.values()).map(s=>{let c=s.item.tp_situacao;return s.situacoes.length>1&&(s.situacoes.includes("C")?c="C":s.situacoes.includes("N")&&(c="N")),{...s,item:{...s.item,tp_situacao:c}}})})(je||[]).reduce((a,o)=>{var c;const s=parseFloat((c=o.item)==null?void 0:c.vl_pago)||0;return a+s},0),[Q]),we=P.useMemo(()=>(J||[]).filter(r=>r.tp_situacao==="1").reduce((r,t)=>{const a=parseFloat(t==null?void 0:t.vl_pago)||0;return r+a},0),[J]);Math.ceil(k.length/K);const X=(Me-1)*K,ra=X+K,oa=k.slice(X,ra);return i.size,Array.from(i).reduce((r,t)=>{var o;const a=oa[t-X];return r+(parseFloat((o=a==null?void 0:a.item)==null?void 0:o.vl_duplicata)||0)},0),e.jsxs("div",{className:"w-full max-w-4xl mx-auto flex flex-col items-stretch justify-start py-3 px-2",children:[e.jsx(ca,{title:"Fluxo de Caixa",subtitle:"Visualize entradas, sa√≠das e controle financeiro em tempo real",icon:da,iconColor:"text-indigo-600"}),e.jsx("div",{className:"mb-4",children:e.jsxs("form",{onSubmit:Ke,className:"flex flex-col bg-white p-3 rounded-lg shadow-md w-full max-w-4xl mx-auto border border-[#000638]/10",children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs("span",{className:"text-lg font-bold text-[#000638] flex items-center gap-1",children:[e.jsx(fa,{size:18,weight:"bold"}),"Filtros"]}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Selecione o per√≠odo e empresa para an√°lise"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 mb-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(la,{empresasSelecionadas:C,onSelectEmpresas:Ze})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold mb-0.5 text-[#000638]",children:"Data Emiss√£o In√≠cio"}),e.jsx("input",{type:"date",value:j,onChange:r=>_(r.target.value),className:"border border-[#000638]/30 rounded-lg px-2 py-1.5 w-full focus:outline-none focus:ring-2 focus:ring-[#000638] bg-[#f8f9fb] text-[#000638] placeholder:text-gray-400 text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold mb-0.5 text-[#000638]",children:"Data Emiss√£o Fim"}),e.jsx("input",{type:"date",value:b,onChange:r=>E(r.target.value),className:"border border-[#000638]/30 rounded-lg px-2 py-1.5 w-full focus:outline-none focus:ring-2 focus:ring-[#000638] bg-[#f8f9fb] text-[#000638] placeholder:text-gray-400 text-xs"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[e.jsx("div",{children:e.jsx(ma,{fornecedoresSelecionados:$,onSelectFornecedores:Ie,dadosFornecedor:u})}),e.jsx("div",{children:e.jsx(pa,{despesasSelecionadas:V,onSelectDespesas:Ye,dadosDespesa:ke})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold mb-0.5 text-[#000638]",children:"Duplicata"}),e.jsx("input",{type:"text",value:y,onChange:r=>p(r.target.value),placeholder:"Buscar duplicata...",className:"border border-[#000638]/30 rounded-lg px-2 py-1.5 w-full focus:outline-none focus:ring-2 focus:ring-[#000638] bg-[#f8f9fb] text-[#000638] placeholder:text-gray-400 text-xs"})]}),e.jsx("div",{children:e.jsx(ua,{centrosCustoSelecionados:w,onSelectCentrosCusto:Te,dadosCentroCusto:Z})}),e.jsx("div",{className:"flex items-center",children:e.jsx("button",{type:"submit",className:"flex items-center gap-1 bg-[#000638] text-white px-3 py-1 rounded-lg hover:bg-[#fe0000] disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-colors h-7 text-xs font-bold shadow-md tracking-wide uppercase",disabled:S||!j||!b,children:S?e.jsxs(e.Fragment,{children:[e.jsx(z,{size:10,className:"animate-spin"}),e.jsx("span",{children:"Buscando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ia,{size:10}),e.jsx("span",{children:"Buscar Dados"})]})})})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 justify-center",children:[e.jsxs(Ne,{className:"shadow-lg transition-all duration-200 hover:shadow-xl hover:-translate-y-1 rounded-xl w-64 bg-white cursor-pointer",onClick:()=>me(!0),children:[e.jsx(De,{className:"pb-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{size:18,className:"text-red-600"}),e.jsx(Ce,{className:"text-sm font-bold text-red-700",children:"Contas a Pagar"})]})}),e.jsxs(Se,{className:"pt-0 px-4 pb-4",children:[e.jsx("div",{className:"text-2xl font-extrabold text-red-600 mb-1 break-words",children:de?e.jsx(z,{size:24,className:"animate-spin text-red-600"}):be.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),e.jsx(Ae,{className:"text-xs text-gray-500",children:"Valor total pago - contas por emiss√£o"})]})]}),e.jsxs(Ne,{className:"shadow-lg transition-all duration-200 hover:shadow-xl hover:-translate-y-1 rounded-xl w-64 bg-white cursor-pointer",onClick:()=>pe(!0),children:[e.jsx(De,{className:"pb-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{size:18,className:"text-green-600"}),e.jsx(Ce,{className:"text-sm font-bold text-green-700",children:"Contas a Receber"})]})}),e.jsxs(Se,{className:"pt-0 px-4 pb-4",children:[e.jsx("div",{className:"text-2xl font-extrabold text-green-600 mb-1 break-words",children:xe?e.jsx(z,{size:24,className:"animate-spin text-green-600"}):we.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),e.jsx(Ae,{className:"text-xs text-gray-500",children:"Valor total recebido - contas por emiss√£o"})]})]})]}),e.jsx(xa,{conta:ne.conta,isOpen:ne.isOpen,onClose:He}),e.jsx(Fe,{isOpen:Oe,onClose:()=>me(!1),title:"Detalhamento de Contas a Pagar",size:"full",children:e.jsx("div",{className:"p-3",children:de?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(z,{size:18,className:"animate-spin text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Carregando sa√≠das..."})]})}):Ve?Q.length===0?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500 text-sm mb-2",children:"Nenhuma sa√≠da encontrada"}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Verifique o per√≠odo selecionado ou tente novamente"})]})}):e.jsx(ha,{dados:je,totalSaidas:be,dataInicio:j,dataFim:b}):e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500 text-sm mb-2",children:'Clique em "Buscar Dados" para carregar as sa√≠das'}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Selecione o per√≠odo e empresa desejados"})]})})})}),e.jsx(Fe,{isOpen:Be,onClose:()=>pe(!1),title:"Detalhamento de Contas a Receber",size:"full",children:e.jsx("div",{className:"p-3",children:xe?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(z,{size:18,className:"animate-spin text-green-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Carregando contas a receber..."})]})}):J.length===0?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500 text-sm mb-2",children:'Clique em "Buscar Dados" para carregar as contas a receber'}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Selecione o per√≠odo e empresa desejados"})]})}):e.jsx(_a,{dados:J,totalContasReceber:we,dataInicio:j,dataFim:b})})})]})},ha=({dados:v,totalSaidas:N,dataInicio:L,dataFim:j})=>{const[_,b]=m.useState({campo:"dt_liq",direcao:"desc"}),E=p=>{const i=new Map;return p.forEach(n=>{const u=`${n.cd_fornecedor}|${n.nm_fornecedor}|${n.nr_duplicata}|${n.nr_parcela}|${n.cd_empresa}|${n.dt_emissao}|${n.dt_vencimento}|${n.dt_entrada}|${n.dt_liq}|${n.tp_situacao}|${n.tp_previsaoreal}|${n.vl_duplicata}|${n.vl_juros}|${n.vl_acrescimo}|${n.vl_desconto}|${n.vl_pago}`;i.has(u)||i.set(u,{item:n,observacoes:[],situacoes:[],datasEmissao:[],datasVencimento:[],datasEntrada:[],datasLiquidacao:[],rateios:[],quantidade:0});const l=i.get(u);l.quantidade+=1,n.vl_rateio&&!l.rateios.includes(n.vl_rateio)&&l.rateios.push(n.vl_rateio),n.ds_observacao&&!l.observacoes.includes(n.ds_observacao)&&l.observacoes.push(n.ds_observacao),n.tp_situacao&&!l.situacoes.includes(n.tp_situacao)&&l.situacoes.push(n.tp_situacao),n.tp_previsaoreal&&!l.previsoes&&(l.previsoes=[]),n.tp_previsaoreal&&!l.previsoes.includes(n.tp_previsaoreal)&&l.previsoes.push(n.tp_previsaoreal),n.dt_emissao&&!l.datasEmissao.includes(n.dt_emissao)&&l.datasEmissao.push(n.dt_emissao),n.dt_vencimento&&!l.datasVencimento.includes(n.dt_vencimento)&&l.datasVencimento.push(n.dt_vencimento),n.dt_entrada&&!l.datasEntrada.includes(n.dt_entrada)&&l.datasEntrada.push(n.dt_entrada),n.dt_liq&&!l.datasLiquidacao.includes(n.dt_liq)&&l.datasLiquidacao.push(n.dt_liq)}),Array.from(i.values()).map(n=>{let u=n.item.tp_situacao;n.situacoes.length>1&&(n.situacoes.includes("C")?u="C":n.situacoes.includes("N")&&(u="N"));let l=n.item.tp_previsaoreal;n.previsoes&&n.previsoes.length>1&&(n.previsoes.includes("R")?l="R":n.previsoes.includes("P")?l="P":n.previsoes.includes("C")&&(l="C"));const $=n.datasEmissao.length>0?n.datasEmissao.sort((w,q)=>new Date(q)-new Date(w))[0]:n.item.dt_emissao,G=n.datasVencimento.length>0?n.datasVencimento.sort((w,q)=>new Date(q)-new Date(w))[0]:n.item.dt_vencimento,Z=n.datasEntrada.length>0?n.datasEntrada.sort((w,q)=>new Date(q)-new Date(w))[0]:n.item.dt_entrada,M=n.datasLiquidacao.length>0?n.datasLiquidacao.sort((w,q)=>new Date(q)-new Date(w))[0]:n.item.dt_liq;return{...n,item:{...n.item,tp_situacao:u,tp_previsaoreal:l,dt_emissao:$,dt_vencimento:G,dt_entrada:Z,dt_liq:M}}})},S=P.useMemo(()=>E(v),[v]),F=P.useMemo(()=>[...S].sort((p,i)=>{let n,u;switch(_.campo){case"dt_liq":n=p.item.dt_liq?new Date(p.item.dt_liq):new Date(0),u=i.item.dt_liq?new Date(i.item.dt_liq):new Date(0);break;case"vl_pago":n=parseFloat(p.item.vl_pago)||0,u=parseFloat(i.item.vl_pago)||0;break;case"cd_fornecedor":n=(p.item.cd_fornecedor||"").toLowerCase(),u=(i.item.cd_fornecedor||"").toLowerCase();break;case"nr_duplicata":n=(p.item.nr_duplicata||"").toLowerCase(),u=(i.item.nr_duplicata||"").toLowerCase();break;default:return 0}return n<u?_.direcao==="asc"?-1:1:n>u?_.direcao==="asc"?1:-1:0}),[S,_]),R=p=>{b(i=>({campo:p,direcao:i.campo===p&&i.direcao==="asc"?"desc":"asc"}))},D=p=>_.campo!==p?e.jsx(U,{size:12,className:"ml-1 opacity-50"}):_.direcao==="asc"?e.jsx(qe,{size:12,className:"ml-1"}):e.jsx(U,{size:12,className:"ml-1"}),y=p=>{if(!p)return"";try{return new Date(p).toLocaleDateString("pt-BR")}catch{return p}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Total de Sa√≠das"}),e.jsx("div",{className:"text-blue-600 font-bold",children:S.length}),e.jsxs("div",{className:"text-xs text-gray-500",children:["(",v.length," registros originais)"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Valor Total Pago"}),e.jsx("div",{className:"text-green-600 font-bold",children:N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Per√≠odo"}),e.jsxs("div",{className:"text-gray-600",children:[y(L)," a ",y(j)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"M√©dia por Sa√≠da"}),e.jsx("div",{className:"text-purple-600 font-bold",children:S.length>0?(N/S.length).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Registros Agrupados"}),e.jsx("div",{className:"text-orange-600 font-bold",children:v.length-S.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"duplicatas removidas"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detalhamento de Sa√≠das"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Lista de todas as sa√≠das do per√≠odo selecionado"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>R("dt_liq"),children:e.jsxs("div",{className:"flex items-center",children:["Data Liquida√ß√£o",D("dt_liq")]})}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>R("cd_fornecedor"),children:e.jsxs("div",{className:"flex items-center",children:["Fornecedor",D("cd_fornecedor")]})}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duplicata"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),e.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>R("vl_pago"),children:e.jsxs("div",{className:"flex items-center justify-end",children:["Valor Pago",D("vl_pago")]})}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Situa√ß√£o"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Est√°gio"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map((p,i)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:y(p.item.dt_liq)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:p.item.cd_fornecedor}),e.jsx("span",{className:"text-xs text-gray-500",children:p.item.nm_fornecedor||"N/A"})]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:p.item.nr_duplicata}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:p.item.cd_empresa}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-green-600",children:parseFloat(p.item.vl_pago||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.item.tp_situacao==="N"?"bg-green-100 text-green-800":p.item.tp_situacao==="C"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:p.item.tp_situacao==="N"?"Normal":p.item.tp_situacao==="C"?"Cancelada":p.item.tp_situacao||"N/A"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:p.item.tp_estagio||"N/A"})]},`${p.item.cd_empresa}-${p.item.nr_duplicata}-${i}`))})]})})]})]})},_a=({dados:v,totalContasReceber:N,dataInicio:L,dataFim:j})=>{const[_,b]=m.useState({campo:"dt_liq",direcao:"desc"}),E=v.filter(i=>i.tp_situacao==="1"),S=i=>{const n=new Map;return i.forEach(u=>{const l=`${u.cd_cliente}|${u.nm_cliente}|${u.nr_parcela}|${u.cd_empresa}|${u.dt_emissao}|${u.dt_vencimento}|${u.dt_liq}|${u.tp_situacao}|${u.vl_fatura}|${u.vl_pago}`;n.has(l)||n.set(l,{item:u,quantidade:0});const $=n.get(l);$.quantidade+=1}),Array.from(n.values())},F=P.useMemo(()=>S(E),[E]),R=P.useMemo(()=>[...F].sort((i,n)=>{let u,l;switch(_.campo){case"dt_liq":u=i.item.dt_liq?new Date(i.item.dt_liq):new Date(0),l=n.item.dt_liq?new Date(n.item.dt_liq):new Date(0);break;case"vl_pago":u=parseFloat(i.item.vl_pago)||0,l=parseFloat(n.item.vl_pago)||0;break;case"cd_cliente":u=(i.item.cd_cliente||"").toLowerCase(),l=(n.item.cd_cliente||"").toLowerCase();break;case"nm_cliente":u=(i.item.nm_cliente||"").toLowerCase(),l=(n.item.nm_cliente||"").toLowerCase();break;default:return 0}return u<l?_.direcao==="asc"?-1:1:u>l?_.direcao==="asc"?1:-1:0}),[F,_]),D=i=>{b(n=>({campo:i,direcao:n.campo===i&&n.direcao==="asc"?"desc":"asc"}))},y=i=>_.campo!==i?e.jsx(U,{size:12,className:"ml-1 opacity-50"}):_.direcao==="asc"?e.jsx(qe,{size:12,className:"ml-1"}):e.jsx(U,{size:12,className:"ml-1"}),p=i=>{if(!i)return"";try{return new Date(i).toLocaleDateString("pt-BR")}catch{return i}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Total de Entradas"}),e.jsx("div",{className:"text-green-600 font-bold",children:F.length}),e.jsxs("div",{className:"text-xs text-gray-500",children:["(",v.length," registros originais)"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Valor Total Recebido"}),e.jsx("div",{className:"text-green-600 font-bold",children:N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Per√≠odo"}),e.jsxs("div",{className:"text-gray-600",children:[p(L)," a ",p(j)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"M√©dia por Entrada"}),e.jsx("div",{className:"text-purple-600 font-bold",children:F.length>0?(N/F.length).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Situa√ß√£o = 1"}),e.jsx("div",{className:"text-green-600 font-bold",children:E.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"registros filtrados"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detalhamento de Contas a Receber"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Lista de todas as entradas do per√≠odo selecionado (apenas tp_situacao = 1)"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("dt_liq"),children:e.jsxs("div",{className:"flex items-center",children:["Data Liquida√ß√£o",y("dt_liq")]})}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("cd_cliente"),children:e.jsxs("div",{className:"flex items-center",children:["Cliente",y("cd_cliente")]})}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("nm_cliente"),children:e.jsxs("div",{className:"flex items-center",children:["Nome Cliente",y("nm_cliente")]})}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parcela"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),e.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("vl_pago"),children:e.jsxs("div",{className:"flex items-center justify-end",children:["Valor Recebido",y("vl_pago")]})}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Situa√ß√£o"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo Doc."})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map((i,n)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:p(i.item.dt_liq)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-medium",children:i.item.cd_cliente})})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.jsx("div",{className:"max-w-xs truncate",children:i.item.nm_cliente||"N/A"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.item.nr_parcela}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.item.cd_empresa}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-green-600",children:parseFloat(i.item.vl_pago||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Situa√ß√£o 1"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:i.item.tp_documento||"N/A"})]},`${i.item.cd_empresa}-${i.item.cd_cliente}-${i.item.nr_parcela}-${n}`))})]})}),R.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum registro encontrado com tp_situacao = 1"})]})]})};export{Ra as default};
