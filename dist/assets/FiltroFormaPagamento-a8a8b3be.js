import{r as a,j as e}from"./index-a2563983.js";const b=({clientesSelecionados:l=[],onSelectClientes:i,dadosClientes:c=[]})=>{const[d,h]=a.useState(!1),[u,p]=a.useState(""),x=a.useRef(null),g=c.filter(t=>{var r,o;return((r=t.cd_cliente)==null?void 0:r.toString().toLowerCase().includes(u.toLowerCase()))||((o=t.nm_cliente)==null?void 0:o.toLowerCase().includes(u.toLowerCase()))}),m=t=>{let r;l.some(o=>{var s,n;return((s=o.cd_cliente)==null?void 0:s.toString())===((n=t.cd_cliente)==null?void 0:n.toString())})?r=l.filter(o=>{var s,n;return((s=o.cd_cliente)==null?void 0:s.toString())!==((n=t.cd_cliente)==null?void 0:n.toString())}):r=[...l,t],i&&i(r)};return a.useEffect(()=>{const t=r=>{x.current&&!x.current.contains(r.target)&&h(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),e.jsxs("div",{className:"flex flex-col relative",ref:x,children:[e.jsx("label",{className:"block text-xs font-semibold mb-0.5 text-[#000638]",children:"Cliente"}),e.jsxs("button",{type:"button",onClick:()=>h(!d),disabled:c.length===0,className:"border border-[#000638]/30 rounded-lg px-2 py-1.5 w-full focus:outline-none focus:ring-2 focus:ring-[#000638] bg-[#f8f9fb] text-[#000638] text-left flex items-center justify-between disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:[e.jsx("span",{className:"truncate",children:c.length===0?"Nenhum cliente disponível":l.length===0?"Selecione os clientes":`${l.length} cliente(s) selecionado(s)`}),c.length===0?e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}):e.jsx("svg",{className:`w-4 h-4 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&e.jsxs("div",{className:"w-80 absolute top-full left-0 right-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg mt-1 max-h-100 overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b border-gray-200",children:e.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:u,onChange:t=>p(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000638] text-sm"})}),e.jsxs("div",{className:"p-3 border-b border-gray-200 bg-gray-50 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{i&&i([...c])},className:"text-xs px-2 py-1 bg-[#000638] text-white rounded hover:bg-[#fe0000] transition-colors",children:"Selecionar Todos"}),e.jsx("button",{type:"button",onClick:()=>{i&&i([])},className:"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Limpar"})]}),e.jsx("div",{className:"w-full max-h-48 overflow-y-auto",children:c.length===0?e.jsx("div",{className:"p-3 text-gray-500 text-sm text-center",children:"Nenhum cliente disponível"}):g.length===0?e.jsx("div",{className:"p-3 text-gray-500 text-sm text-center",children:"Nenhum cliente encontrado"}):g.map(t=>{const r=l.some(o=>{var s,n;return((s=o.cd_cliente)==null?void 0:s.toString())===((n=t.cd_cliente)==null?void 0:n.toString())});return e.jsxs("div",{className:`px-2 py-2 hover:bg-gray-50 cursor-pointer flex items-start mb-1 ${r?"bg-blue-50":""}`,onClick:()=>m(t),children:[e.jsx("input",{type:"checkbox",checked:r,readOnly:!0,className:"rounded border-gray-300 text-[#000638] focus:ring-[#000638] mr-1 w-4 h-4",onClick:o=>o.stopPropagation()}),e.jsx("div",{className:"flex flex-row w-full",children:e.jsx("span",{className:"text-xs font-medium text-gray-900 truncate whitespace-nowrap",children:(t.cd_cliente+" - "+(t.nm_cliente||"")).replace(/\s+/g," ").trim()})})]},`cliente-${t.cd_cliente}`)})})]})]})},w=({formasPagamentoSelecionadas:l=[],onSelectFormasPagamento:i,dadosFormasPagamento:c=[]})=>{const[d,h]=a.useState(!1),[u,p]=a.useState(""),x=a.useRef(null),g=c.filter(t=>{var r,o;return((r=t.codigo)==null?void 0:r.toString().toLowerCase().includes(u.toLowerCase()))||((o=t.descricao)==null?void 0:o.toLowerCase().includes(u.toLowerCase()))}),m=t=>{let r;l.some(o=>{var s,n;return((s=o.codigo)==null?void 0:s.toString())===((n=t.codigo)==null?void 0:n.toString())})?r=l.filter(o=>{var s,n;return((s=o.codigo)==null?void 0:s.toString())!==((n=t.codigo)==null?void 0:n.toString())}):r=[...l,t],i&&i(r)};return a.useEffect(()=>{const t=r=>{x.current&&!x.current.contains(r.target)&&h(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),e.jsxs("div",{className:"flex flex-col relative",ref:x,children:[e.jsx("label",{className:"block text-xs font-semibold mb-0.5 text-[#000638]",children:"Forma de Pagamento"}),e.jsxs("button",{type:"button",onClick:()=>h(!d),disabled:c.length===0,className:"border border-[#000638]/30 rounded-lg px-2 py-1.5 w-full focus:outline-none focus:ring-2 focus:ring-[#000638] bg-[#f8f9fb] text-[#000638] text-left flex items-center justify-between disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:[e.jsx("span",{className:"truncate",children:c.length===0?"Nenhuma forma de pagamento disponível":l.length===0?"Selecione as formas de pagamento":`${l.length} forma(s) selecionada(s)`}),c.length===0?e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}):e.jsx("svg",{className:`w-4 h-4 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&e.jsxs("div",{className:"w-60 absolute top-full left-0 right-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg mt-1 max-h-100 overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b border-gray-200",children:e.jsx("input",{type:"text",placeholder:"Buscar forma de pagamento...",value:u,onChange:t=>p(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000638] text-sm"})}),e.jsxs("div",{className:"p-3 border-b border-gray-200 bg-gray-50 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{i&&i([...c])},className:"text-xs px-2 py-1 bg-[#000638] text-white rounded hover:bg-[#fe0000] transition-colors",children:"Selecionar Todos"}),e.jsx("button",{type:"button",onClick:()=>{i&&i([])},className:"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Limpar"})]}),e.jsx("div",{className:"w-full max-h-48 overflow-y-auto",children:c.length===0?e.jsx("div",{className:"p-3 text-gray-500 text-sm text-center",children:"Nenhuma forma de pagamento disponível"}):g.length===0?e.jsx("div",{className:"p-3 text-gray-500 text-sm text-center",children:"Nenhuma forma de pagamento encontrada"}):g.map(t=>{const r=l.some(o=>{var s,n;return((s=o.codigo)==null?void 0:s.toString())===((n=t.codigo)==null?void 0:n.toString())});return e.jsxs("div",{className:`px-2 py-2 hover:bg-gray-50 cursor-pointer flex items-start mb-1 ${r?"bg-blue-50":""}`,onClick:()=>m(t),children:[e.jsx("div",{className:"flex flex-row w-full",children:e.jsx("span",{className:"text-xs font-medium text-gray-900 truncate whitespace-nowrap",children:(t.codigo+" - "+(t.descricao||"")).replace(/\s+/g," ").trim()})}),e.jsx("input",{type:"checkbox",checked:r,readOnly:!0,className:"rounded border-gray-300 text-[#000638] focus:ring-[#000638] mr-1 w-4 h-4",onClick:o=>o.stopPropagation()})]},`forma-${t.codigo}`)})})]})]})};export{b as F,w as a};
