import{r as t,h as J,j as e,B as Q,C as U,R as W}from"./index-a2563983.js";import{B as A}from"./Button-3b4dd265.js";const X=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M204,136a12,12,0,0,1-12,12H64a12,12,0,0,1,0-24H192A12,12,0,0,1,204,136Zm28-60H24a12,12,0,0,0,0,24H232a12,12,0,0,0,0-24Zm-80,96H104a12,12,0,0,0,0,24h48a12,12,0,0,0,0-24Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z",opacity:"0.2"}),t.createElement("path",{d:"M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM144,176H112a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16Zm32-40H80a8,8,0,0,1,0-16h96a8,8,0,0,1,0,16Zm32-40H48a8,8,0,0,1,0-16H208a8,8,0,0,1,0,16Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M198,136a6,6,0,0,1-6,6H64a6,6,0,0,1,0-12H192A6,6,0,0,1,198,136Zm34-54H24a6,6,0,0,0,0,12H232a6,6,0,0,0,0-12Zm-80,96H104a6,6,0,0,0,0,12h48a6,6,0,0,0,0-12Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M196,136a4,4,0,0,1-4,4H64a4,4,0,0,1,0-8H192A4,4,0,0,1,196,136Zm36-52H24a4,4,0,0,0,0,8H232a4,4,0,0,0,0-8Zm-80,96H104a4,4,0,0,0,0,8h48a4,4,0,0,0,0-8Z"}))]]),C=t.forwardRef((a,p)=>t.createElement(J,{ref:p,...a,weights:X}));C.displayName="FunnelSimpleIcon";const Y=C,_=t.memo(t.forwardRef(({type:a="text",label:p,placeholder:j,value:r,onChange:g,onBlur:o,onFocus:h,disabled:f=!1,required:c=!1,error:n,helperText:d,leftIcon:i,rightIcon:m,size:u="md",fullWidth:H=!1,className:w="",containerClassName:N="",id:v,name:s,autoComplete:l,maxLength:x,minLength:M,pattern:I,...T},z)=>{const[b,R]=t.useState(!1),[V,$]=t.useState(!1),y=v||`input-${s||Math.random().toString(36).substr(2,9)}`,E=n?`${y}-error`:void 0,Z=d?`${y}-helper`:void 0,k={sm:"px-3 py-1.5 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},D=`
    block w-full rounded-lg border transition-all duration-200
    focus:outline-none focus:ring-2 focus:ring-offset-0
    disabled:opacity-50 disabled:cursor-not-allowed
    ${k[u]||k.md}
    ${n?"border-red-300 focus:border-red-500 focus:ring-red-500":V?"border-[#000638] focus:border-[#000638] focus:ring-[#000638]":"border-gray-300 focus:border-[#000638] focus:ring-[#000638]"}
    ${f?"bg-gray-50":"bg-white"}
    ${i?"pl-10":""}
    ${m||a==="password"?"pr-10":""}
    ${w}
  `,P=`
    ${H?"w-full":""}
    ${N}
  `,B=`
    block text-sm font-medium mb-1
    ${n?"text-red-700":"text-gray-700"}
    ${c?"after:content-['*'] after:ml-0.5 after:text-red-500":""}
  `,O=S=>{$(!0),h==null||h(S)},q=S=>{$(!1),o==null||o(S)},F=()=>{R(!b)},G=a==="password"&&b?"text":a;return e.jsxs("div",{className:P,children:[p&&e.jsx("label",{htmlFor:y,className:B,children:p}),e.jsxs("div",{className:"relative",children:[i&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-400","aria-hidden":"true",children:i})}),e.jsx("input",{ref:z,id:y,name:s,type:G,value:r,onChange:g,onFocus:O,onBlur:q,disabled:f,required:c,placeholder:j,className:D,autoComplete:l,maxLength:x,minLength:M,pattern:I,"aria-invalid":!!n,"aria-describedby":[E,Z].filter(Boolean).join(" ")||void 0,...T}),(m||a==="password")&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a==="password"?e.jsx("button",{type:"button",onClick:F,className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors","aria-label":b?"Ocultar senha":"Mostrar senha",tabIndex:f?-1:0,children:b?e.jsx(Q,{size:20}):e.jsx(U,{size:20})}):e.jsx("span",{className:"text-gray-400","aria-hidden":"true",children:m})})]}),d&&!n&&e.jsx("p",{id:Z,className:"mt-1 text-sm text-gray-500",children:d}),n&&e.jsx("p",{id:E,className:"mt-1 text-sm text-red-600",role:"alert",children:n}),x&&r&&e.jsx("div",{className:"mt-1 text-right",children:e.jsxs("span",{className:`text-xs ${r.length>x*.9?"text-yellow-600":r.length===x?"text-red-600":"text-gray-500"}`,children:[r.length,"/",x]})})]})}));_.displayName="Input";const ee=({columnKey:a,columnTitle:p,data:j,currentFilter:r,onApplyFilter:g,onClose:o})=>{const[h,f]=t.useState((r==null?void 0:r.sortDirection)||null),[c,n]=t.useState((r==null?void 0:r.searchTerm)||""),[d,i]=t.useState((r==null?void 0:r.selected)||[]);W.useEffect(()=>{console.log("ðŸ” tempSearchTerm mudou para:",c)},[c]);const m=t.useRef(null),u=Array.from(new Set(j.map(s=>String(s[a])))).filter(Boolean).sort((s,l)=>s.localeCompare(l,void 0,{numeric:!0})),H=()=>{g(a,{sortDirection:h,searchTerm:c,selected:d}),o()},w=()=>{f(null),n(""),i([]),g(a,null),o()},N=s=>{i(l=>l.includes(s)?l.filter(x=>x!==s):[...l,s])},v=s=>{i(s?u:[])};return t.useEffect(()=>{const s=l=>{m.current&&!m.current.contains(l.target)&&o()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[o]),e.jsxs("div",{ref:m,className:"w-60 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none p-3",children:[e.jsxs("h2",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Filtro coluna (",p,")"]}),e.jsxs("div",{className:"mb-3 pt-0 border-t-0",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Filtrar por Texto"}),e.jsxs("div",{className:"relative",children:[e.jsx(Y,{size:14,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Pesquisar...",value:c,onChange:s=>{console.log("ðŸ” Input onChange chamado, valor:",s.target.value),n(s.target.value)},className:"w-full pl-10 pr-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#000638] focus:border-[#000638] bg-white text-gray-900",style:{color:"#111827 !important",backgroundColor:"#ffffff !important",fontSize:"12px !important",lineHeight:"1.25 !important",opacity:"1 !important",visibility:"visible !important"}})]})]}),e.jsxs("div",{className:"mb-3 border-t pt-3 border-gray-200",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Filtrar por SeleÃ§Ã£o"}),e.jsxs("div",{className:"max-h-40 overflow-y-auto pr-1 custom-scrollbar",children:[e.jsxs("div",{className:"flex items-start mb-1",children:[e.jsx("input",{type:"checkbox",id:`select-all-${a}`,className:"rounded border-gray-300 text-[#000638] focus:ring-[#000638] mr-1 w-4 h-4",checked:d.length===u.length,onChange:s=>v(s.target.checked)}),e.jsx("label",{htmlFor:`select-all-${a}`,className:"text-xs font-medium text-gray-700",children:"(Selecionar Tudo)"})]}),u.map(s=>e.jsxs("div",{className:"flex items-start mb-1 text-nowrap",children:[e.jsx("input",{type:"checkbox",id:`filter-${a}-${s}`,className:"rounded border-gray-300 text-[#000638] focus:ring-[#000638] w-4 h-4 mr-1",checked:d.includes(s),onChange:()=>N(s)}),e.jsx("label",{htmlFor:`filter-${a}-${s}`,className:"text-xs text-gray-700",children:s})]},s))]})]}),e.jsxs("div",{className:"flex justify-end space-x-1 border-t pt-3 border-gray-200",children:[e.jsx(A,{variant:"secondary",size:"xs",onClick:w,children:"Limpar"}),e.jsx(A,{variant:"primary",size:"xs",onClick:H,children:"Aplicar"})]})]})};export{ee as F,_ as I,Y as l};
