import{r as x,j as s,s as Q,L as U}from"./index-a2563983.js";import{s as W}from"./CaretUp.es-b369da07.js";import{c as X}from"./CaretUpDown.es-453a995a.js";const Y=x.memo(({data:g=[],columns:j=[],loading:L=!1,error:$=null,sortable:m=!0,pagination:N=!1,pageSize:f=10,currentPage:h=1,onPageChange:v,onSort:p,className:A="",containerClassName:E="",emptyMessage:T="Nenhum dado encontrado",rowKey:c="id",onRowClick:b,selectedRows:d=[],onRowSelect:i,stickyHeader:V=!1,responsive:D=!0,...q})=>{const[n,B]=x.useState({key:null,direction:"asc"}),o=x.useMemo(()=>!n.key||!m?g:[...g].sort((e,a)=>{const r=e[n.key],t=a[n.key];if(r==null)return 1;if(t==null)return-1;if(typeof r=="number"&&typeof t=="number")return n.direction==="asc"?r-t:t-r;const u=String(r).toLowerCase(),y=String(t).toLowerCase();return n.direction==="asc"?u<y?-1:u>y?1:0:u>y?-1:u<y?1:0}),[g,n,m]),l=x.useMemo(()=>{if(!N)return o;const e=(h-1)*f,a=e+f;return o.slice(e,a)},[o,N,h,f]),M=x.useCallback(e=>{m&&B(a=>{const r=a.key===e&&a.direction==="asc"?"desc":"asc",t={key:e,direction:r};return p==null||p(t),t})},[m,p]),F=x.useCallback((e,a)=>{if(!i)return;const r=e[c];let t;a?t=[...d,r]:t=d.filter(u=>u!==r),i(t,e)},[i,d,c]),G=x.useCallback(e=>{if(i)if(e){const a=l.map(r=>r[c]);i([...d,...a.filter(r=>!d.includes(r))])}else{const a=l.map(r=>r[c]);i(d.filter(r=>!a.includes(r)))}},[i,l,d,c]),I=x.useCallback(e=>m?n.key===e?n.direction==="asc"?s.jsx(W,{size:16}):s.jsx(Q,{size:16}):s.jsx(X,{size:16,className:"opacity-50"}):null,[n,m]),k=x.useMemo(()=>!i||l.length===0?!1:l.every(e=>d.includes(e[c])),[i,l,d,c]),H=x.useMemo(()=>!i||l.length===0?!1:l.some(e=>d.includes(e[c]))&&!k,[i,l,d,c,k]),C=`
    ${D?"overflow-x-auto":""}
    rounded-lg border border-gray-200 bg-white shadow-sm
    ${E}
  `,J=`
    min-w-full divide-y divide-gray-200
    ${A}
  `,O=`
    bg-gray-50 
    ${V?"sticky top-0 z-10":""}
  `;return L?s.jsx("div",{className:C,children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(U,{size:"lg",text:"Carregando dados..."})})}):$?s.jsx("div",{className:C,children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"‚ö†Ô∏è"}),s.jsx("div",{className:"text-red-600 font-medium mb-2",children:"Erro ao carregar dados"}),s.jsx("div",{className:"text-gray-500 text-sm",children:$})]})}):s.jsxs("div",{className:C,children:[s.jsxs("table",{className:J,...q,children:[s.jsx("thead",{className:O,children:s.jsxs("tr",{children:[i&&s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:k,ref:e=>{e&&(e.indeterminate=H)},onChange:e=>G(e.target.checked),className:"rounded border-gray-300 text-[#000638] focus:ring-[#000638]","aria-label":"Selecionar todas as linhas"})}),j.map(e=>s.jsx("th",{className:`
                  px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider overflow-visible text-nowrap
                  ${e.sortable!==!1&&m&&!e.headerRender?"cursor-pointer hover:bg-gray-100":""}
                  ${e.className||""}
                `,onClick:e.headerRender?void 0:()=>e.sortable!==!1&&M(e.key),"aria-sort":n.key===e.key?n.direction==="asc"?"ascending":"descending":"none",children:e.headerRender?e.headerRender({column:e,sortConfig:n,handleSort:M,getSortIcon:I}):s.jsxs("div",{className:"flex items-center space-x-1 text-nowrap",children:[s.jsx("span",{children:e.title}),e.sortable!==!1&&I(e.key)]})},e.key))]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:j.length+(i?1:0),className:"px-4 py-12 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:"üìä"}),s.jsx("div",{children:T})]})})}):l.map((e,a)=>{const r=d.includes(e[c]);return s.jsxs("tr",{className:`
                    transition-colors duration-150
                    ${r?"bg-blue-50":a%2===0?"bg-white hover:bg-gray-100":"bg-gray-100 hover:bg-gray-200"}
                    ${b?"cursor-pointer":""}
                  `,onClick:()=>b==null?void 0:b(e,a),children:[i&&s.jsx("td",{className:"px-4 py-3 text-nowrap",children:s.jsx("input",{type:"checkbox",checked:r,onChange:t=>{t.stopPropagation(),F(e,t.target.checked)},className:"rounded border-gray-300 text-[#000638] focus:ring-[#000638]","aria-label":`Selecionar linha ${a+1}`})}),j.map(t=>s.jsx("td",{className:`
                        px-4 py-3 text-sm text-gray-900 text-nowrap
                        ${t.cellClassName||""}
                      `,children:t.render?t.render(e[t.key],e,a):e[t.key]},t.key))]},e[c]||a)})})]}),N&&l.length>0&&s.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",(h-1)*f+1," a"," ",Math.min(h*f,o.length)," de"," ",o.length," registros"]}),v&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>v(h-1),disabled:h===1,className:"px-3 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),s.jsxs("span",{className:"text-sm",children:["P√°gina ",h," de ",Math.ceil(o.length/f)]}),s.jsx("button",{onClick:()=>v(h+1),disabled:h===Math.ceil(o.length/f),className:"px-3 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Pr√≥xima"})]})]})})]})});Y.displayName="Table";export{Y as T};
